{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from '../api/axios';\nimport useAuth from './useAuth';\n\nconst useRefreshToken = () => {\n  _s();\n\n  const {\n    setAuth\n  } = useAuth();\n  const {\n    auth\n  } = useAuth();\n\n  const refresh = async () => {\n    const response = await axios.get('token/refresh', {\n      headers: {\n        'Authorization': `Bearer ${auth === null || auth === void 0 ? void 0 : auth.refresh_token}`\n      }\n    });\n    setAuth(prev => {\n      console.log(JSON.stringify(prev));\n      console.log(response.data.access_token);\n      return { ...prev,\n        access_token: response.data.access_token\n      };\n    });\n    return response.data.access_token;\n  };\n\n  return refresh;\n};\n\n_s(useRefreshToken, \"Ybsw7eUZZsew/2Qin/CONRaGf3o=\", false, function () {\n  return [useAuth, useAuth];\n});\n\nexport default useRefreshToken;","map":{"version":3,"names":["axios","useAuth","useRefreshToken","setAuth","auth","refresh","response","get","headers","refresh_token","prev","console","log","JSON","stringify","data","access_token"],"sources":["/Users/ioannischionas/Code/springboot/cineProject/demo-frontend/src/hooks/useRefreshToken.js"],"sourcesContent":["import axios from '../api/axios';\nimport useAuth from './useAuth';\n\nconst useRefreshToken = () => {\n    const { setAuth } = useAuth();\n    const { auth } = useAuth();\n\n    const refresh = async () => {\n        const response = await axios.get('token/refresh', {\n            headers: {\n                'Authorization': `Bearer ${auth?.refresh_token}`\n            }\n        });\n        setAuth(prev => {\n            console.log(JSON.stringify(prev));\n            console.log(response.data.access_token);\n            return { ...prev, access_token: response.data.access_token }\n        });\n        return response.data.access_token;\n    }\n    return refresh;\n};\n\nexport default useRefreshToken;\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,cAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,eAAe,GAAG,MAAM;EAAA;;EAC1B,MAAM;IAAEC;EAAF,IAAcF,OAAO,EAA3B;EACA,MAAM;IAAEG;EAAF,IAAWH,OAAO,EAAxB;;EAEA,MAAMI,OAAO,GAAG,YAAY;IACxB,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAU,eAAV,EAA2B;MAC9CC,OAAO,EAAE;QACL,iBAAkB,UAASJ,IAAV,aAAUA,IAAV,uBAAUA,IAAI,CAAEK,aAAc;MAD1C;IADqC,CAA3B,CAAvB;IAKAN,OAAO,CAACO,IAAI,IAAI;MACZC,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAZ;MACAC,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACS,IAAT,CAAcC,YAA1B;MACA,OAAO,EAAE,GAAGN,IAAL;QAAWM,YAAY,EAAEV,QAAQ,CAACS,IAAT,CAAcC;MAAvC,CAAP;IACH,CAJM,CAAP;IAKA,OAAOV,QAAQ,CAACS,IAAT,CAAcC,YAArB;EACH,CAZD;;EAaA,OAAOX,OAAP;AACH,CAlBD;;GAAMH,e;UACkBD,O,EACHA,O;;;AAkBrB,eAAeC,eAAf"},"metadata":{},"sourceType":"module"}