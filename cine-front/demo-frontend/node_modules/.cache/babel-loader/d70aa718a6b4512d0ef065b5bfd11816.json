{"ast":null,"code":"var _jsxFileName = \"/Users/ioannischionas/Code/springboot/cineProject/demo-frontend/src/pages/Home.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport useAxiosPrivate from \"../hooks/useAxiosPrivate\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport Navbar from \"../components/Navbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [movies, setMovies] = useState();\n  const axiosPrivate = useAxiosPrivate();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const loadMovies = async () => {\n    let isMounted = true;\n    const controller = new AbortController();\n\n    const getMovies = async () => {\n      try {\n        const response = await axiosPrivate.get('movies', {\n          signal: controller.signal\n        });\n        console.log(response.data);\n        isMounted && setMovies(response.data);\n      } catch (err) {\n        if ((err === null || err === void 0 ? void 0 : err.code) !== 'ERR_CANCELED') {\n          console.error(err);\n          navigate('/login', {\n            state: {\n              from: location\n            },\n            replace: true\n          });\n        }\n      }\n    };\n\n    getMovies();\n    return () => {\n      isMounted = false;\n      controller.abort();\n    };\n  };\n\n  useEffect(() => {\n    loadMovies();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Playing now:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), movies !== null && movies !== void 0 && movies.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item-list\",\n        children: movies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"item\",\n          onClick: () => {\n            navigate(`/movies/${movie.title}`);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: movie === null || movie === void 0 ? void 0 : movie.poster,\n            className: \"Poster\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: movie === null || movie === void 0 ? void 0 : movie.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 37\n          }, this)]\n        }, movie.title, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 24\n        }, this), \"There are no registered movies\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Home, \"jUgN0bpfMIm2rgDZQuzx+qllFGw=\", false, function () {\n  return [useAxiosPrivate, useNavigate, useLocation];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useState","useEffect","useAxiosPrivate","useNavigate","useLocation","Navbar","Home","movies","setMovies","axiosPrivate","navigate","location","loadMovies","isMounted","controller","AbortController","getMovies","response","get","signal","console","log","data","err","code","error","state","from","replace","abort","length","map","movie","title","poster"],"sources":["/Users/ioannischionas/Code/springboot/cineProject/demo-frontend/src/pages/Home.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport useAxiosPrivate from \"../hooks/useAxiosPrivate\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport Navbar from \"../components/Navbar\";\n\nconst Home = () => {\n\n    const [movies, setMovies] = useState();\n    const axiosPrivate = useAxiosPrivate();\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    const loadMovies = async () => {\n        let isMounted = true;\n        const controller = new AbortController();\n\n        const getMovies = async () => {\n            try {\n                const response = await axiosPrivate.get('movies', {\n                    signal: controller.signal\n                });\n                console.log(response.data);\n                isMounted && setMovies(response.data);\n            } catch (err) {\n                if (err?.code !== 'ERR_CANCELED') {\n                    console.error(err);\n                    navigate('/login', { state: { from: location }, replace: true });\n                }\n            }\n        }\n\n        getMovies();\n\n        return () => {\n            isMounted = false;\n            controller.abort();\n        }\n    };\n\n    useEffect(\n        ()=>{\n            loadMovies()\n        },[]);\n\n    return (\n        <div>\n            <Navbar/>\n            <br/>\n                <section>\n                <h1>Playing now:</h1>\n                {movies?.length?\n                (\n                    <div className=\"item-list\">\n                        {movies.map((movie) => (\n                                <div className=\"item\" key={movie.title} onClick={()=>{navigate(`/movies/${movie.title}`)}}>\n                                    <img src={movie?.poster} className=\"Poster\" alt=\"\"/>\n                                    <p>{movie?.title}</p>\n                                    </div>\n                                ))}\n                    </div>\n                ) : <p><br />There are no registered movies</p>\n                }\n                </section>\n        </div>\n    )\n}\n\nexport default Home"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,eAAP,MAA4B,0BAA5B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,kBAAzC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;;AAEA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EAEf,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,EAApC;EACA,MAAMS,YAAY,GAAGP,eAAe,EAApC;EACA,MAAMQ,QAAQ,GAAGP,WAAW,EAA5B;EACA,MAAMQ,QAAQ,GAAGP,WAAW,EAA5B;;EAEA,MAAMQ,UAAU,GAAG,YAAY;IAC3B,IAAIC,SAAS,GAAG,IAAhB;IACA,MAAMC,UAAU,GAAG,IAAIC,eAAJ,EAAnB;;IAEA,MAAMC,SAAS,GAAG,YAAY;MAC1B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMR,YAAY,CAACS,GAAb,CAAiB,QAAjB,EAA2B;UAC9CC,MAAM,EAAEL,UAAU,CAACK;QAD2B,CAA3B,CAAvB;QAGAC,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACK,IAArB;QACAT,SAAS,IAAIL,SAAS,CAACS,QAAQ,CAACK,IAAV,CAAtB;MACH,CAND,CAME,OAAOC,GAAP,EAAY;QACV,IAAI,CAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEC,IAAL,MAAc,cAAlB,EAAkC;UAC9BJ,OAAO,CAACK,KAAR,CAAcF,GAAd;UACAb,QAAQ,CAAC,QAAD,EAAW;YAAEgB,KAAK,EAAE;cAAEC,IAAI,EAAEhB;YAAR,CAAT;YAA6BiB,OAAO,EAAE;UAAtC,CAAX,CAAR;QACH;MACJ;IACJ,CAbD;;IAeAZ,SAAS;IAET,OAAO,MAAM;MACTH,SAAS,GAAG,KAAZ;MACAC,UAAU,CAACe,KAAX;IACH,CAHD;EAIH,CAzBD;;EA2BA5B,SAAS,CACL,MAAI;IACAW,UAAU;EACb,CAHI,EAGH,EAHG,CAAT;EAKA,oBACI;IAAA,wBACI,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGQ;MAAA,wBACA;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADA,EAECL,MAAM,SAAN,IAAAA,MAAM,WAAN,IAAAA,MAAM,CAAEuB,MAAR,gBAEG;QAAK,SAAS,EAAC,WAAf;QAAA,UACKvB,MAAM,CAACwB,GAAP,CAAYC,KAAD,iBACJ;UAAK,SAAS,EAAC,MAAf;UAAwC,OAAO,EAAE,MAAI;YAACtB,QAAQ,CAAE,WAAUsB,KAAK,CAACC,KAAM,EAAxB,CAAR;UAAmC,CAAzF;UAAA,wBACI;YAAK,GAAG,EAAED,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEE,MAAjB;YAAyB,SAAS,EAAC,QAAnC;YAA4C,GAAG,EAAC;UAAhD;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAA,UAAIF,KAAJ,aAAIA,KAAJ,uBAAIA,KAAK,CAAEC;UAAX;YAAA;YAAA;YAAA;UAAA,QAFJ;QAAA,GAA2BD,KAAK,CAACC,KAAjC;UAAA;UAAA;UAAA;QAAA,QADP;MADL;QAAA;QAAA;QAAA;MAAA,QAFH,gBAUG;QAAA,wBAAG;UAAA;UAAA;UAAA;QAAA,QAAH;MAAA;QAAA;QAAA;QAAA;MAAA,QAZJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAHR;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAqBH,CA5DD;;GAAM3B,I;UAGmBJ,e,EACJC,W,EACAC,W;;;KALfE,I;AA8DN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}